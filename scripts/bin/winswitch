#!/bin/bash

total=$(wmctrl -d | wc -l)

current=$(wmctrl -d | sed -n 's/^\([0-9]\+\) *\*.*/\1/p')

if [ -z "$total" ] || [ -z "$current" ]; then
  echo 1>&2 "$0: Could not obtain workspace information!"
  exit 2
fi

gettarget() {
	case $1 in 
	up)
		target=$(($current+1))
		if [ $target = $total ]; then
  			target=0
		fi
		;;
	down)
		target=$(($current-1))
		if [ $target = $total ]; then
  			target=0
		fi
		;;
	*)
		;;
	esac;
}
gettarget $1

wmctrl -s $target
